---
created: 2010-03-18 15:10:00
creator: 潘俊勇
description: ''
title: 　存储和备份
---
﻿====================
存储和备份
====================

.. sectnum::

FRS(http://code.google.com/p/zopen-frs)是一个开源的文件库存放格式，易度文档管理系统采用此格式存储文件。采取简单存储、集中存储、海量存储、自动备份与RAID容错磁盘阵列等方式帮助企业可靠地储存文档，解决文档备份问题，同时为文档共享、检索、安全管理等奠定了基础。

简单存储
---------------------------------------------
文件存储越复杂，获取文件依赖的组件越多，导致文件获取失败的风险就越大。

易度采用FRS存储文件, 文件系统文件在物理文件系统中的存储结构和通过浏览器所管理的文件结构完全相同。同时，文档的附加的元数据信息也以json文本格式直接存放在文件系统中。

   与传统其他供应商的存取方式相比，易度这种存储方式可保证文档存储的风险最低：

   - 文档的存取不依赖于任何数据库系统，不会因数据库系统的故障而导致数据丢失；
   - 文档的存取不依赖易度文档管理系统，即便易度系统出现故障，仍然可通过传统的途径管理文档库。


集中（分区）存储
---------------------------------------------

集中（分区）存储是建立文档的集中式的存储，对文档进行有效的分类管理。通过提供个人区、公司文档区和网络共享区，分区进行文档分类管理。

.. image:: pic/storage-img001.png
   :alt: 集中分区存储

缓存数据管理
---------------------------------------------
文件在使用的时候，会生成的各种转换格式，比如生成的pdf格式、html预览格式。这些格式一次生成后，可存放在FRS文件库的缓存区，避免反复生成。文件缓存区属于可再生数据，可放置在不可靠磁盘中，无需进行数据备份。

可扩展的虚拟文件系统
-----------------------------------------------
FRS通过一个配置文件，来定义文件的实际存放位置。可灵活配置扩展硬盘扩容，更可方便和NAS磁盘设备结合。

自动增量备份
--------------------------------------------------
易度采用rsync备份软件，通过定时脚本，对文件进行自动增量备份。ZODB数据库的备份，也是通过定时脚本，自动增量备份。系统默认可恢复至最近2周任何一天的数据。













